# 桌面寵物 2.1 (Desktop Pet 2.0) 🐱

一個功能更完整、體驗更流暢的互動式桌面寵物。相較於 1.0，新增以下關鍵改進：

## ✨ 2.1 新功能與改進

- 🖱 **右鍵即開啟控制面板**：不再需要在右鍵選單中點擊，直接彈出 UI 面板。
- 🚫 **螢幕邊界自動反向**：寵物不會走出螢幕，碰到邊緣會自動翻轉方向。
- 🎞 **全新動畫**：`eat`、`play`、`happy`、`sad` 四種狀態各 2 幀，已自動生成占位素材。
- 😴 **休息互動**：新增 `rest` 行為，可恢復精力。
- 🧩 **互動控制區**：在 UI 面板加入餵食、玩耍、撫摸、清潔、休息五個快捷按鈕。
- 🎲 **隨機挑選**：餵食會隨機挑選現有食物，玩耍會隨機挑選玩具。
- 📦 **資源需求更低**：只需提供 `idle`、`walk_right`、以及四個新動畫的占位圖，即可完整運行。

## 📦 安裝與執行

```bash
pip install -r requirements.txt
```

```bash
# 執行方式
run.bat   # 或
python main.py
```

## 🎮 操作指南

- **左鍵拖曳**：移動寵物
- **右鍵**：直接開啟狀態面板（含存檔、退出）
- **系統托盤**：隱藏/顯示寵物

### 狀態面板功能

- **餵食**：隨機選擇一種食物餵給寵物，提升飢餓度與快樂度
- **玩耍**：若有玩具會使用玩具，提升快樂度並消耗精力
- **撫摸**：快速提升快樂度
- **清潔**：提升健康與快樂度
- **休息**：恢復精力與少量快樂度
- **存檔 / 退出**：手動存檔或退出程式（自動存檔）

## 🎨 自訂寵物（只需 3 張圖！）

2.0 版大幅簡化素材需求，您只需要提供以下圖片：

```
assets/your_pet/
├── idle/          # 閒置圖 (必須，2 幀)
├── walk_right/    # 向右走圖 (必須，4 幀)
├── eat/           # 吃東西動畫 (2 幀)
├── play/          # 玩耍動畫 (2 幀)
├── happy/         # 開心動畫 (2 幀)
└── sad/           # 難過動畫 (2 幀)
```

系統會自動：
- 🔄 生成左走動畫（鏡像翻轉）
- 💤 若缺少 `sleep`、`sit` 等可選動畫，使用 `idle` 替代

## 📁 專案結構

```
pet/
├── main.py                # 主程式 (2.0)
├── config.py              # 設定檔
├── modules/               # 核心模組
│   ├── pet_stats.py       # 狀態管理
│   ├── interaction_manager.py # 互動系統（含餵食、玩耍、撫摸、清潔、休息）
│   ├── inventory_manager.py   # 物品系統（支援隨機挑食物/玩具）
│   ├── event_system.py    # 事件與成就
│   ├── save_manager.py    # 存檔系統
│   └── ui_panel.py        # UI 面板（含互動控制區）
├── data/                  # 資料檔案
│   ├── foods.json         # 食物資料
│   ├── items.json         # 物品資料
│   └── events.json        # 事件資料
└── assets/                # 素材目錄
```

## 🛠️ 技術細節

- **框架**：PyQt5
- **架構**：模組化設計，分離邏輯與 UI
- **存檔**：JSON 格式，支援自動備份
- **動畫**：QPixmap + QTimer，支援自動鏡像與缺省替代

## 📝 授權

開源專案，歡迎修改和分享！

---
享受您的電子寵物生活吧！✨
